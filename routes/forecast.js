require("dotenv").config();
const router = require("express").Router();
const tf = require("@tensorflow/tfjs");

// cloudy 0 - 100
// humidity 0 - 100
// windSpeed 0-50

// temperature -40 to +40

// day ranging from Monday 0 to Sunday 6
// isHoliday true 1/false 0

// sales 0 - 100000
// business level 0 - 100

router.post("/forecast", async (req, res) => {
  // Define the training data
  const trainingData = [
    [41, 82, 41, 16, 0, 1, 6688],
    [71, 142, 71, 8, 4, 0, 1589],
    [12, 12, 12, 21, 4, 0, 9817],
    [95, 190, 95, 20, 0, 0, 8041],
    [70, 140, 70, 13, 2, 0, 7158],
    [32, 32, 32, 30, 2, 0, 2312],
    [9, 9, 9, 36, 0, 1, 6383],
    [9, 18, 9, 37, 5, 0, 5384],
    [43, 43, 43, 10, 3, 0, 9864],
    [46, 92, 46, 12, 1, 1, 5146],
    [7, 7, 7, 37, 2, 1, 7127],
    [26, 52, 26, 39, 4, 0, 6182],
    [68, 68, 68, 6, 4, 1, 3768],
    [13, 13, 13, 32, 1, 1, 4928],
    [8, 8, 8, 32, 2, 1, 2498],
    [76, 76, 76, 6, 0, 1, 5955],
    [55, 110, 55, 16, 5, 0, 9697],
    [40, 80, 40, 16, 3, 1, 5658],
    [45, 45, 45, 23, 2, 0, 9321],
    [86, 86, 86, 9, 1, 1, 3134],
    [13, 13, 13, 33, 1, 1, 4044],
    [22, 22, 22, 20, 5, 0, 2587],
    [65, 130, 65, 11, 3, 1, 1419],
    [81, 81, 81, 19, 5, 1, 7208],
    [1, 2, 1, 30, 5, 1, 5951],
    [31, 62, 31, 24, 5, 0, 2613],
    [48, 48, 48, 6, 3, 1, 9899],
    [30, 60, 30, 32, 2, 0, 2208],
    [40, 40, 40, 21, 3, 1, 2221],
    [12, 12, 12, 39, 0, 1, 6064],
    [66, 66, 66, 24, 0, 0, 2513],
    [92, 184, 92, 14, 0, 1, 5441],
    [90, 90, 90, 14, 1, 1, 3837],
    [19, 38, 19, 30, 0, 0, 4957],
    [86, 86, 86, 15, 3, 0, 8612],
    [97, 194, 97, 12, 2, 0, 7739],
    [51, 102, 51, 16, 5, 1, 8109],
    [70, 70, 70, 12, 1, 0, 8729],
    [68, 68, 68, 23, 2, 0, 6434],
    [44, 44, 44, 17, 5, 1, 2499],
    [97, 194, 97, 12, 0, 1, 8393],
    [97, 194, 97, 6, 4, 1, 2077],
    [75, 150, 75, 9, 3, 1, 9751],
    [27, 54, 27, 27, 5, 0, 9457],
    [57, 57, 57, 11, 3, 1, 1951],
    [90, 90, 90, 24, 2, 1, 4249],
    [79, 79, 79, 6, 1, 1, 5672],
    [3, 6, 3, 31, 3, 0, 9080],
    [70, 70, 70, 8, 5, 1, 3446],
    [59, 118, 59, 23, 2, 1, 3347],
    [47, 47, 47, 14, 3, 0, 7795],
    [88, 176, 88, 6, 3, 1, 6430],
    [6, 12, 6, 27, 2, 0, 1414],
    [29, 58, 29, 23, 0, 1, 5883],
    [39, 78, 39, 33, 1, 1, 3099],
    [29, 58, 29, 34, 1, 0, 1763],
    [99, 198, 99, 12, 3, 1, 8025],
    [72, 72, 72, 16, 1, 1, 6448],
    [44, 44, 44, 17, 2, 1, 5165],
    [91, 182, 91, 12, 4, 0, 8248],
    [42, 84, 42, 5, 4, 1, 4862],
    [87, 174, 87, 22, 2, 1, 2517],
    [75, 75, 75, 11, 1, 1, 1244],
    [76, 76, 76, 13, 2, 1, 3961],
    [63, 126, 63, 14, 5, 0, 9057],
    [92, 184, 92, 18, 4, 0, 6512],
    [44, 44, 44, 9, 1, 0, 5050],
    [4, 4, 4, 29, 1, 1, 5995],
    [67, 67, 67, 20, 3, 0, 6806],
    [75, 75, 75, 15, 3, 0, 4275],
    [5, 5, 5, 38, 0, 0, 1918],
    [17, 34, 17, 35, 1, 1, 9057],
    [38, 76, 38, 24, 1, 0, 3121],
    [45, 90, 45, 17, 2, 0, 7506],
    [64, 64, 64, 22, 1, 1, 1174],
    [87, 87, 87, 14, 5, 0, 2345],
    [4, 4, 4, 29, 0, 1, 9566],
    [12, 12, 12, 30, 2, 0, 7700],
    [88, 88, 88, 13, 1, 1, 7042],
    [94, 94, 94, 6, 2, 1, 1216],
    [37, 74, 37, 23, 0, 1, 3120],
    [49, 49, 49, 21, 3, 1, 4178],
    [32, 32, 32, 32, 2, 1, 6037],
    [24, 24, 24, 25, 0, 0, 2351],
    [98, 98, 98, 14, 5, 1, 4110],
    [97, 194, 97, 18, 0, 0, 9704],
    [49, 49, 49, 23, 1, 0, 6853],
    [76, 76, 76, 8, 3, 0, 9982],
    [72, 144, 72, 21, 2, 1, 5656],
    [68, 68, 68, 10, 4, 1, 8326],
    [13, 26, 13, 27, 3, 0, 9370],
    [3, 3, 3, 35, 5, 0, 1453],
    [23, 23, 23, 36, 3, 0, 7772],
    [5, 5, 5, 33, 4, 0, 3019],
    [93, 186, 93, 8, 2, 0, 7695],
    [19, 19, 19, 22, 0, 0, 8244],
    [68, 68, 68, 14, 4, 1, 2225],
    [83, 83, 83, 11, 2, 1, 2497],
    [13, 13, 13, 31, 0, 0, 3317],
    [49, 98, 49, 7, 1, 0, 4925],
    [40, 80, 40, 24, 4, 1, 4380],
    [73, 146, 73, 8, 3, 0, 4777],
    [88, 88, 88, 17, 0, 1, 8963],
    [63, 63, 63, 22, 1, 1, 5115],
    [42, 42, 42, 18, 5, 1, 3769],
    [84, 84, 84, 7, 5, 1, 8786],
    [42, 42, 42, 6, 3, 0, 5457],
    [89, 178, 89, 20, 0, 0, 4804],
    [13, 26, 13, 23, 1, 1, 1653],
    [55, 110, 55, 5, 4, 0, 4056],
    [45, 90, 45, 24, 3, 1, 6233],
    [72, 72, 72, 8, 3, 0, 3160],
    [66, 66, 66, 16, 4, 0, 6328],
    [89, 178, 89, 18, 2, 1, 6811],
    [79, 79, 79, 15, 1, 0, 8090],
    [29, 29, 29, 22, 5, 0, 7889],
    [86, 172, 86, 21, 2, 0, 2508],
    [56, 112, 56, 17, 5, 0, 2136],
    [74, 74, 74, 5, 2, 0, 2416],
    [18, 18, 18, 36, 2, 1, 4301],
    [86, 172, 86, 16, 2, 1, 9387],
    [52, 104, 52, 24, 0, 1, 1733],
    [12, 12, 12, 20, 0, 0, 3355],
    [16, 16, 16, 27, 0, 1, 2189],
    [75, 150, 75, 17, 4, 1, 4743],
    [84, 84, 84, 13, 5, 1, 9706],
    [52, 104, 52, 18, 1, 1, 9370],
    [25, 25, 25, 26, 3, 1, 5333],
    [13, 26, 13, 27, 1, 0, 8675],
    [46, 46, 46, 6, 1, 0, 7667],
    [26, 26, 26, 21, 4, 0, 6193],
    [92, 92, 92, 12, 2, 0, 8397],
    [58, 58, 58, 14, 3, 1, 2244],
    [87, 87, 87, 17, 2, 0, 5704],
    [5, 10, 5, 39, 5, 1, 3847],
    [34, 34, 34, 33, 0, 1, 6682],
    [24, 48, 24, 37, 4, 0, 8600],
    [28, 28, 28, 21, 4, 0, 3393],
    [76, 152, 76, 17, 3, 1, 5939],
    [58, 58, 58, 6, 2, 1, 1364],
    [2, 2, 2, 31, 4, 1, 4735],
    [28, 28, 28, 35, 4, 1, 9370],
    [38, 76, 38, 26, 5, 1, 1698],
    [60, 60, 60, 7, 1, 1, 7292],
    [77, 154, 77, 24, 3, 1, 5902],
    [47, 94, 47, 17, 3, 0, 8430],
    [86, 172, 86, 12, 2, 0, 6166],
    [67, 134, 67, 12, 1, 0, 9940],
    [32, 32, 32, 24, 5, 1, 3988],
    [79, 158, 79, 12, 3, 1, 6255],
    [4, 8, 4, 26, 0, 1, 2798],
    [69, 138, 69, 8, 1, 0, 1391],
    [22, 44, 22, 29, 4, 1, 1697],
    [44, 44, 44, 24, 1, 1, 1793],
    [86, 172, 86, 16, 5, 1, 2977],
    [26, 26, 26, 33, 5, 0, 3394],
    [58, 58, 58, 19, 5, 0, 1963],
    [79, 158, 79, 9, 4, 1, 2360],
    [85, 85, 85, 17, 4, 0, 9673],
    [3, 3, 3, 39, 3, 1, 7494],
    [33, 66, 33, 29, 2, 0, 3270],
    [51, 102, 51, 15, 5, 1, 8898],
    [58, 58, 58, 23, 3, 1, 4808],
    [96, 192, 96, 22, 1, 1, 8538],
    [27, 27, 27, 20, 4, 1, 3711],
    [51, 102, 51, 15, 5, 1, 5561],
    [87, 174, 87, 9, 4, 1, 5800],
    [36, 36, 36, 35, 2, 0, 1079],
    [5, 10, 5, 32, 1, 0, 8184],
    [32, 64, 32, 37, 0, 0, 7829],
    [99, 99, 99, 17, 4, 1, 7391],
    [63, 126, 63, 11, 5, 0, 7458],
    [34, 34, 34, 22, 0, 0, 7790],
    [21, 42, 21, 22, 1, 0, 3039],
    [91, 182, 91, 21, 2, 1, 3361],
    [52, 104, 52, 5, 4, 0, 9171],
    [73, 73, 73, 22, 3, 0, 2828],
    [7, 14, 7, 22, 5, 1, 7739],
    [92, 184, 92, 19, 2, 0, 9385],
    [79, 79, 79, 20, 4, 1, 2377],
    [64, 64, 64, 19, 4, 0, 1757],
    [40, 40, 40, 13, 2, 0, 4180],
    [88, 88, 88, 21, 1, 0, 9206],
    [38, 76, 38, 32, 1, 0, 7998],
    [96, 192, 96, 9, 1, 1, 3522],
    [38, 76, 38, 35, 2, 1, 1085],
    [39, 78, 39, 34, 4, 0, 4999],
    [37, 37, 37, 32, 5, 0, 5549],
    [33, 66, 33, 31, 4, 0, 2415],
    [94, 94, 94, 17, 5, 0, 1235],
    [85, 170, 85, 17, 0, 1, 5990],
    [6, 6, 6, 36, 0, 1, 5775],
    [10, 20, 10, 32, 1, 1, 6403],
    [27, 54, 27, 36, 0, 0, 9208],
    [28, 56, 28, 30, 0, 0, 5925],
    [79, 158, 79, 7, 1, 1, 1729],
    [22, 44, 22, 25, 2, 0, 9008],
    [51, 51, 51, 5, 2, 1, 9643],
    [11, 11, 11, 23, 5, 1, 7571],
    [75, 75, 75, 10, 3, 1, 3499],
    [35, 70, 35, 34, 3, 1, 5257],
    [17, 34, 17, 36, 0, 0, 1275],
    [62, 62, 62, 23, 0, 1, 6410],
    [89, 178, 89, 12, 5, 1, 1132],
    [26, 52, 26, 20, 0, 1, 5952],
    [26, 26, 26, 26, 3, 1, 8242],
    [44, 44, 44, 21, 1, 0, 5376],
    [53, 106, 53, 7, 3, 1, 2856],
    [29, 29, 29, 23, 5, 1, 2025],
    [90, 180, 90, 24, 0, 0, 8478],
    [1, 2, 1, 20, 4, 1, 4732],
    [70, 70, 70, 6, 0, 0, 1603],
    [61, 122, 61, 21, 0, 1, 6118],
    [3, 6, 3, 25, 0, 1, 2220],
    [38, 38, 38, 29, 2, 0, 4966],
    [87, 87, 87, 22, 2, 1, 5417],
    [87, 174, 87, 14, 0, 1, 3686],
    [10, 10, 10, 39, 0, 0, 9966],
    [79, 79, 79, 21, 1, 0, 3074],
    [28, 56, 28, 31, 3, 0, 1850],
    [90, 90, 90, 15, 0, 1, 2938],
    [8, 16, 8, 26, 2, 0, 6495],
    [7, 14, 7, 26, 3, 1, 2405],
    [84, 168, 84, 7, 2, 0, 5105],
    [64, 128, 64, 5, 2, 0, 4419],
    [44, 88, 44, 19, 4, 0, 3691],
    [2, 4, 2, 26, 5, 0, 4514],
    [9, 9, 9, 23, 4, 0, 6582],
    [32, 32, 32, 22, 5, 1, 7552],
    [93, 186, 93, 6, 4, 0, 7771],
    [15, 30, 15, 28, 2, 0, 1858],
    [83, 166, 83, 13, 5, 0, 9111],
    [93, 186, 93, 7, 5, 0, 4817],
    [79, 79, 79, 8, 3, 1, 2304],
    [95, 190, 95, 24, 0, 0, 2583],
    [87, 87, 87, 21, 4, 0, 1805],
    [81, 162, 81, 18, 0, 0, 5566],
    [92, 92, 92, 14, 3, 0, 4483],
    [78, 78, 78, 10, 0, 1, 6460],
    [67, 134, 67, 19, 5, 1, 5827],
    [29, 58, 29, 32, 2, 0, 3602],
    [20, 20, 20, 30, 3, 0, 4800],
    [31, 62, 31, 34, 4, 0, 6319],
    [46, 92, 46, 17, 3, 1, 6254],
    [20, 20, 20, 21, 4, 0, 1390],
    [65, 130, 65, 24, 4, 0, 9950],
    [87, 87, 87, 19, 2, 0, 6535],
    [95, 95, 95, 22, 4, 1, 6997],
    [32, 32, 32, 36, 5, 0, 4059],
    [99, 99, 99, 10, 1, 0, 8789],
    [67, 134, 67, 23, 0, 1, 2238],
    [91, 91, 91, 19, 3, 0, 1264],
    [59, 59, 59, 7, 2, 1, 8514],
    [2, 2, 2, 29, 1, 1, 6454],
    [31, 31, 31, 24, 4, 1, 4273],
    [16, 16, 16, 24, 5, 0, 5439],
    [30, 30, 30, 28, 3, 1, 4940],
    [19, 19, 19, 34, 3, 0, 2106],
    [28, 56, 28, 21, 1, 1, 7393],
    [31, 31, 31, 23, 0, 0, 9847],
    [86, 172, 86, 13, 4, 1, 5365],
    [11, 22, 11, 24, 1, 1, 9454],
    [86, 172, 86, 10, 5, 1, 3472],
    [88, 88, 88, 16, 3, 1, 3317],
    [76, 76, 76, 8, 0, 1, 4093],
    [86, 86, 86, 7, 4, 1, 5047],
    [77, 154, 77, 19, 5, 1, 4832],
    [99, 99, 99, 10, 2, 1, 5276],
    [60, 120, 60, 21, 3, 0, 2633],
    [67, 67, 67, 18, 1, 0, 6303],
    [83, 83, 83, 10, 4, 1, 9029],
    [20, 40, 20, 35, 1, 1, 1905],
    [76, 76, 76, 5, 2, 1, 2274],
    [74, 74, 74, 20, 0, 0, 5128],
    [5, 10, 5, 33, 5, 0, 8766],
    [23, 46, 23, 20, 4, 1, 8389],
    [42, 42, 42, 23, 1, 1, 8117],
    [25, 50, 25, 30, 3, 0, 1308],
    [27, 27, 27, 29, 0, 0, 9808],
    [6, 12, 6, 24, 2, 0, 5316],
    [8, 8, 8, 32, 5, 1, 6246],
    [46, 92, 46, 19, 0, 0, 5771],
    [18, 36, 18, 25, 5, 1, 3022],
    [16, 32, 16, 21, 1, 1, 5418],
    [36, 72, 36, 38, 4, 1, 3420],
    [50, 50, 50, 5, 3, 1, 7404],
    [68, 68, 68, 7, 5, 0, 2217],
    [6, 12, 6, 30, 4, 0, 7935],
    [78, 156, 78, 13, 1, 1, 4790],
    [21, 21, 21, 26, 0, 1, 6488],
    [45, 90, 45, 8, 3, 0, 5553],
    [5, 10, 5, 26, 3, 1, 6609],
    [98, 98, 98, 14, 1, 0, 3909],
    [37, 37, 37, 36, 2, 0, 6025],
    [58, 116, 58, 19, 3, 0, 7759],
    [27, 27, 27, 32, 1, 1, 9527],
    [52, 52, 52, 18, 2, 1, 2941],
    [87, 174, 87, 15, 5, 1, 2581],
    [83, 83, 83, 9, 5, 1, 7055],
    [22, 22, 22, 32, 5, 1, 3780],
    [13, 13, 13, 27, 2, 1, 6563],
    [4, 4, 4, 24, 2, 0, 4720],
    [81, 162, 81, 22, 2, 1, 4057],
    [76, 76, 76, 17, 0, 0, 8636],
    [95, 190, 95, 9, 3, 0, 9826],
    [32, 32, 32, 35, 5, 1, 9458],
    [44, 44, 44, 17, 2, 1, 8515],
    [90, 180, 90, 9, 4, 0, 4013],
    [34, 34, 34, 25, 3, 0, 8764],
    [62, 124, 62, 24, 1, 0, 8465],
    [13, 26, 13, 31, 1, 1, 7482],
    [27, 27, 27, 24, 2, 0, 7687],
    [99, 198, 99, 8, 1, 0, 5012],
    [78, 156, 78, 19, 1, 0, 8105],
    [5, 10, 5, 26, 3, 0, 3347],
    [65, 130, 65, 15, 1, 1, 9110],
    [59, 118, 59, 11, 3, 1, 9512],
    [38, 38, 38, 35, 1, 1, 7458],
    [55, 110, 55, 8, 1, 1, 9221],
    [90, 180, 90, 15, 4, 1, 6963],
    [80, 160, 80, 16, 3, 0, 1172],
    [88, 176, 88, 17, 2, 0, 9768],
    [72, 144, 72, 15, 5, 0, 9861],
    [92, 92, 92, 8, 5, 1, 3493],
    [22, 22, 22, 31, 4, 0, 7018],
    [98, 196, 98, 23, 4, 1, 5485],
    [48, 48, 48, 13, 4, 0, 8500],
    [3, 6, 3, 34, 2, 1, 8457],
    [94, 188, 94, 24, 4, 0, 4814],
    [80, 160, 80, 23, 5, 0, 5268],
    [42, 84, 42, 22, 0, 0, 6344],
    [18, 18, 18, 33, 5, 0, 2935],
    [8, 8, 8, 24, 1, 0, 3839],
    [96, 192, 96, 6, 5, 1, 7358],
    [95, 95, 95, 14, 5, 1, 9750],
    [49, 98, 49, 17, 2, 0, 9593],
    [77, 77, 77, 22, 4, 1, 5874],
    [26, 52, 26, 37, 1, 1, 4410],
    [60, 60, 60, 8, 0, 0, 7132],
    [38, 76, 38, 39, 1, 1, 5168],
    [2, 4, 2, 37, 1, 0, 9598],
    [99, 198, 99, 11, 3, 0, 7864],
    [33, 66, 33, 25, 1, 1, 3587],
    [13, 13, 13, 31, 2, 1, 9918],
    [97, 97, 97, 9, 3, 0, 1911],
    [15, 30, 15, 23, 5, 1, 3328],
    [7, 7, 7, 20, 2, 1, 6038],
    [26, 52, 26, 20, 4, 1, 2890],
    [31, 62, 31, 34, 5, 1, 7489],
    [49, 49, 49, 11, 5, 0, 8992],
    [60, 120, 60, 18, 5, 1, 9398],
    [65, 65, 65, 24, 3, 0, 8650],
    [50, 50, 50, 23, 2, 0, 4514],
    [62, 62, 62, 23, 3, 0, 6909],
    [75, 150, 75, 23, 1, 1, 2939],
    [42, 42, 42, 15, 0, 0, 2967],
    [3, 6, 3, 26, 1, 0, 4440],
    [84, 84, 84, 16, 1, 1, 4803],
    [93, 186, 93, 13, 0, 1, 9050],
    [57, 57, 57, 23, 3, 0, 5154],
    [81, 81, 81, 14, 5, 1, 4241],
    [71, 71, 71, 11, 0, 0, 2088],
    [18, 36, 18, 34, 5, 0, 8055],
    [57, 57, 57, 8, 1, 0, 3628],
    [15, 30, 15, 32, 1, 0, 2978],
    [17, 17, 17, 22, 3, 0, 4599],
    [93, 186, 93, 23, 5, 0, 9951],
    [77, 154, 77, 15, 4, 1, 8773],
    [5, 5, 5, 30, 0, 1, 9059],
    [64, 64, 64, 5, 1, 1, 6296],
    [76, 152, 76, 8, 1, 0, 7080],
    [67, 134, 67, 12, 4, 0, 5396],
    [40, 40, 40, 7, 4, 0, 8755],
    [59, 59, 59, 16, 3, 0, 1072],
    [37, 74, 37, 36, 4, 1, 3699],
    [86, 86, 86, 21, 3, 1, 3685],
    [82, 164, 82, 8, 3, 0, 1183],
    [94, 94, 94, 10, 0, 1, 2062],
    [52, 52, 52, 13, 1, 0, 7230],
    [82, 82, 82, 5, 0, 0, 6073],
    [90, 180, 90, 5, 4, 0, 9082],
    [29, 58, 29, 22, 4, 1, 9085],
    [41, 82, 41, 15, 3, 0, 2276],
    [48, 48, 48, 13, 2, 0, 3916],
    [76, 152, 76, 17, 2, 1, 5859],
    [83, 166, 83, 14, 3, 1, 1583],
    [18, 36, 18, 20, 1, 0, 6701],
    [87, 87, 87, 7, 2, 1, 1595],
    [76, 76, 76, 22, 0, 1, 5367],
    [35, 35, 35, 23, 4, 0, 9276],
    [96, 192, 96, 22, 1, 0, 6780],
    [63, 126, 63, 21, 2, 0, 6991],
    [5, 10, 5, 29, 0, 1, 1220],
    [68, 68, 68, 16, 3, 1, 8354],
    [36, 72, 36, 24, 2, 0, 6976],
    [28, 56, 28, 33, 0, 0, 1145],
    [82, 164, 82, 9, 2, 0, 7996],
    [72, 144, 72, 5, 2, 0, 4998],
    [5, 5, 5, 38, 2, 1, 2408],
    [19, 38, 19, 24, 4, 0, 7499],
    [43, 86, 43, 21, 0, 1, 5577],
    [13, 26, 13, 30, 1, 1, 5773],
    [75, 150, 75, 13, 3, 1, 8221],
    [36, 36, 36, 21, 4, 1, 7979],
    [9, 9, 9, 24, 5, 1, 3662],
    [48, 96, 48, 22, 4, 1, 5663],
    [53, 106, 53, 11, 1, 0, 3130],
    [22, 44, 22, 23, 1, 0, 6956],
    [62, 62, 62, 22, 3, 1, 1115],
    [12, 24, 12, 22, 2, 1, 6304],
    [32, 32, 32, 23, 3, 1, 6254],
    [40, 80, 40, 10, 2, 0, 7973],
    [63, 63, 63, 13, 4, 0, 3467],
    [65, 65, 65, 22, 3, 1, 7324],
    [69, 138, 69, 5, 0, 0, 2247],
    [44, 44, 44, 17, 2, 0, 7475],
    [42, 84, 42, 9, 2, 0, 9759],
    [89, 89, 89, 21, 3, 0, 3830],
    [96, 96, 96, 7, 2, 1, 3182],
    [88, 176, 88, 12, 2, 1, 3753],
    [37, 37, 37, 24, 1, 1, 4092],
    [63, 63, 63, 12, 3, 0, 5090],
    [64, 64, 64, 20, 3, 1, 3465],
    [11, 11, 11, 28, 5, 0, 6133],
    [33, 33, 33, 28, 3, 1, 1395],
    [20, 20, 20, 20, 3, 0, 5830],
    [92, 92, 92, 18, 2, 0, 7091],
    [48, 48, 48, 8, 5, 1, 9588],
    [46, 92, 46, 14, 0, 1, 8670],
    [12, 12, 12, 22, 0, 1, 7266],
    [6, 12, 6, 36, 0, 1, 4849],
    [71, 71, 71, 7, 0, 0, 8327],
    [22, 22, 22, 28, 2, 1, 7387],
    [23, 23, 23, 21, 4, 0, 6844],
    [69, 138, 69, 20, 2, 0, 8793],
    [86, 86, 86, 5, 4, 1, 6909],
    [68, 68, 68, 10, 4, 0, 7753],
    [62, 62, 62, 9, 2, 1, 5975],
    [40, 40, 40, 22, 0, 0, 2082],
    [94, 188, 94, 21, 5, 1, 7436],
    [94, 94, 94, 18, 2, 1, 5157],
    [86, 172, 86, 17, 5, 0, 2511],
    [66, 132, 66, 11, 1, 1, 3910],
    [15, 30, 15, 27, 0, 1, 5113],
    [97, 97, 97, 17, 4, 1, 4752],
    [45, 45, 45, 17, 3, 1, 2483],
    [84, 84, 84, 10, 2, 0, 4280],
    [74, 148, 74, 18, 5, 1, 2741],
    [21, 42, 21, 22, 5, 0, 5874],
    [19, 19, 19, 25, 2, 1, 7470],
    [22, 22, 22, 30, 2, 0, 9845],
    [77, 154, 77, 11, 1, 0, 8382],
    [8, 8, 8, 20, 0, 0, 1347],
    [6, 6, 6, 31, 1, 0, 3981],
    [59, 118, 59, 17, 0, 1, 6768],
    [31, 62, 31, 33, 0, 1, 7521],
    [61, 61, 61, 5, 3, 1, 9998],
    [87, 87, 87, 14, 0, 1, 9911],
    [75, 75, 75, 14, 0, 1, 8147],
    [70, 70, 70, 22, 4, 0, 4406],
    [94, 188, 94, 19, 4, 0, 2926],
    [79, 79, 79, 17, 3, 1, 8373],
    [81, 162, 81, 18, 0, 1, 7480],
    [9, 9, 9, 24, 2, 0, 2408],
    [64, 128, 64, 9, 3, 0, 9904],
    [65, 130, 65, 23, 5, 0, 7548],
    [72, 72, 72, 23, 4, 0, 2428],
    [30, 30, 30, 35, 3, 0, 7965],
    [85, 170, 85, 7, 2, 0, 2589],
    [67, 67, 67, 12, 1, 1, 5781],
    [13, 26, 13, 35, 5, 1, 8695],
    [16, 32, 16, 20, 3, 1, 8639],
    [40, 40, 40, 15, 2, 0, 3516],
    [34, 34, 34, 21, 3, 0, 2434],
    [7, 7, 7, 39, 0, 0, 8400],
    [30, 30, 30, 30, 2, 1, 3988],
    [54, 54, 54, 5, 1, 0, 5097],
    [48, 96, 48, 18, 2, 0, 1678],
    [67, 67, 67, 15, 5, 1, 8100],
    [14, 14, 14, 29, 2, 0, 9485],
    [32, 64, 32, 28, 0, 0, 4377],
    [6, 6, 6, 21, 1, 1, 4170],
    [35, 35, 35, 38, 1, 1, 5123],
    [50, 50, 50, 5, 4, 0, 2926],
    [95, 95, 95, 10, 2, 1, 5242],
    [83, 166, 83, 17, 0, 1, 7150],
    [69, 69, 69, 24, 5, 1, 8339],
    [74, 148, 74, 8, 3, 0, 3734],
    [13, 26, 13, 30, 4, 0, 6764],
    [61, 122, 61, 9, 4, 1, 4262],
    [59, 59, 59, 13, 0, 1, 6167],
    [47, 94, 47, 9, 1, 0, 9631],
    [63, 126, 63, 17, 3, 1, 1172],
    [97, 97, 97, 21, 3, 0, 8290],
    [58, 116, 58, 17, 1, 0, 6038],
    [93, 186, 93, 17, 1, 1, 3892],
    [58, 116, 58, 20, 1, 1, 2198],
    [38, 76, 38, 23, 4, 1, 2193],
    [72, 144, 72, 6, 4, 1, 3456],
    [88, 176, 88, 23, 1, 0, 2081],
  ];
  const targetData = [
    [67],
    [16],
    [98],
    [80],
    [72],
    [23],
    [64],
    [54],
    [99],
    [51],
    [71],
    [62],
    [38],
    [49],
    [25],
    [60],
    [97],
    [57],
    [93],
    [31],
    [40],
    [26],
    [14],
    [72],
    [60],
    [26],
    [99],
    [22],
    [22],
    [61],
    [25],
    [54],
    [38],
    [50],
    [86],
    [77],
    [81],
    [87],
    [64],
    [25],
    [84],
    [21],
    [98],
    [95],
    [20],
    [42],
    [57],
    [91],
    [34],
    [33],
    [78],
    [64],
    [14],
    [59],
    [31],
    [18],
    [80],
    [64],
    [52],
    [82],
    [49],
    [25],
    [12],
    [40],
    [91],
    [65],
    [51],
    [60],
    [68],
    [43],
    [19],
    [91],
    [31],
    [75],
    [12],
    [23],
    [96],
    [77],
    [70],
    [12],
    [31],
    [42],
    [60],
    [24],
    [41],
    [97],
    [69],
    [100],
    [57],
    [83],
    [94],
    [15],
    [78],
    [30],
    [77],
    [82],
    [22],
    [25],
    [33],
    [49],
    [44],
    [48],
    [90],
    [51],
    [38],
    [88],
    [55],
    [48],
    [17],
    [41],
    [62],
    [32],
    [63],
    [68],
    [81],
    [79],
    [25],
    [21],
    [24],
    [43],
    [94],
    [17],
    [34],
    [22],
    [47],
    [97],
    [94],
    [53],
    [87],
    [77],
    [62],
    [84],
    [22],
    [57],
    [38],
    [67],
    [86],
    [34],
    [59],
    [14],
    [47],
    [94],
    [17],
    [73],
    [59],
    [84],
    [62],
    [99],
    [40],
    [63],
    [28],
    [14],
    [17],
    [18],
    [30],
    [34],
    [20],
    [24],
    [97],
    [75],
    [33],
    [89],
    [48],
    [85],
    [37],
    [56],
    [58],
    [11],
    [82],
    [78],
    [74],
    [75],
    [78],
    [30],
    [34],
    [92],
    [28],
    [77],
    [94],
    [24],
    [18],
    [42],
    [92],
    [80],
    [35],
    [11],
    [50],
    [55],
    [24],
    [12],
    [60],
    [58],
    [64],
    [92],
    [59],
    [17],
    [90],
    [96],
    [76],
    [35],
    [53],
    [13],
    [64],
    [11],
    [60],
    [82],
    [54],
    [29],
    [20],
    [85],
    [47],
    [16],
    [61],
    [22],
    [50],
    [54],
    [37],
    [100],
    [31],
    [19],
    [29],
    [65],
    [24],
    [51],
    [44],
    [37],
    [45],
    [66],
    [76],
    [78],
    [19],
    [91],
    [48],
    [23],
    [26],
    [18],
    [56],
    [45],
    [65],
    [58],
    [36],
    [48],
    [63],
    [63],
    [14],
    [100],
    [65],
    [70],
    [41],
    [88],
    [22],
    [13],
    [85],
    [65],
    [43],
    [54],
    [49],
    [21],
    [74],
    [98],
    [54],
    [95],
    [35],
    [33],
    [41],
    [50],
    [48],
    [53],
    [26],
    [63],
    [90],
    [19],
    [23],
    [51],
    [88],
    [84],
    [81],
    [13],
    [98],
    [53],
    [62],
    [58],
    [30],
    [54],
    [34],
    [74],
    [22],
    [79],
    [48],
    [65],
    [56],
    [66],
    [39],
    [60],
    [78],
    [95],
    [29],
    [26],
    [71],
    [38],
    [66],
    [47],
    [41],
    [86],
    [98],
    [95],
    [85],
    [40],
    [88],
    [85],
    [75],
    [77],
    [50],
    [81],
    [33],
    [91],
    [95],
    [75],
    [92],
    [70],
    [12],
    [98],
    [99],
    [35],
    [70],
    [55],
    [85],
    [85],
    [48],
    [53],
    [63],
    [29],
    [38],
    [74],
    [98],
    [96],
    [59],
    [44],
    [71],
    [52],
    [96],
    [79],
    [36],
    [99],
    [19],
    [33],
    [60],
    [29],
    [75],
    [90],
    [94],
    [87],
    [45],
    [69],
    [29],
    [30],
    [44],
    [48],
    [91],
    [52],
    [42],
    [21],
    [81],
    [36],
    [30],
    [46],
    [100],
    [88],
    [91],
    [63],
    [71],
    [54],
    [88],
    [11],
    [37],
    [37],
    [12],
    [21],
    [72],
    [61],
    [91],
    [91],
    [23],
    [39],
    [59],
    [16],
    [67],
    [16],
    [54],
    [93],
    [68],
    [70],
    [12],
    [84],
    [70],
    [11],
    [80],
    [50],
    [24],
    [75],
    [56],
    [58],
    [82],
    [80],
    [37],
    [57],
    [31],
    [70],
    [11],
    [63],
    [63],
    [80],
    [35],
    [73],
    [22],
    [75],
    [98],
    [38],
    [32],
    [38],
    [41],
    [51],
    [35],
    [61],
    [14],
    [58],
    [71],
    [96],
    [87],
    [73],
    [48],
    [83],
    [74],
    [68],
    [88],
    [69],
    [78],
    [60],
    [21],
    [74],
    [52],
    [25],
    [39],
    [51],
    [48],
    [25],
    [43],
    [27],
    [59],
    [75],
    [98],
    [84],
    [13],
    [40],
    [68],
    [75],
    [100],
    [99],
    [81],
    [44],
    [29],
    [84],
    [75],
    [24],
    [99],
    [75],
    [24],
    [80],
    [26],
    [58],
    [87],
    [86],
    [35],
    [24],
    [84],
    [40],
    [51],
    [17],
    [81],
    [95],
    [44],
    [42],
    [51],
    [29],
    [52],
    [72],
    [83],
    [37],
    [68],
    [43],
    [62],
    [96],
    [12],
    [83],
    [60],
    [39],
    [22],
    [22],
    [35],
    [21],
  ];
  // Create a sequential model
  const model = tf.sequential();

  // Add a dense layer to the model
  model.add(tf.layers.dense({ units: 1, inputShape: [7] }));

  // Compile the model
  model.compile({ loss: "meanAbsoluteError", optimizer: "sgd" });

  // Train the model
  const xTrain = tf.tensor2d(trainingData);
  const yTrain = tf.tensor2d(targetData);
  model.fit(xTrain, yTrain).then(() => {
    console.log("Model training completed.");

    // Use the trained model to make predictions
    const xTest = tf.tensor2d([
      // Your test data here
      [41, 82, 41, 16, 0, 1, 6688],
    ]);
    const predictions = model.predict(xTest);

    predictions.print();
    // Get the predicted business level value
    const predictedBusinessLevel = predictions.dataSync()[0].toFixed();

    res.json({ predictedBusinessLevel });
  });
});

module.exports = router;
